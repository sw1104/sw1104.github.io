---
title: "SQL Injection"
excerpt: "SQL Injection 공격에 대해서"

categories:
    - MySQL
tags:
    - [MySQL]

permalink: /mysql/injection

toc: true
toc_sticky: true

published : false

date: 2023-05-21
last_modified_at: 2023-05-21
---

# SQL 인젝션(SQL Injection)

악의적인 사용자가 웹 애플리케이션의 입력 폼 또는 매개변수에 악의적인 SQL 코드를 삽입하여 데이터베이스에 대한 비인가된 액세스를 시도하는 공격이다. 이는 데이터베이스 시스템이 악의적인 쿼리를 실행하여 데이터 유출, 변조, 삭제 등의 피해를 입힐 수 있다.

## SQL 인젝션이 일어나는 이유

1. 사용자 입력에 대한 신뢰성 검증 부족 : 사용자 입력에 대해 유효성 검사를 진행하지 않고 쿼리에 넣는 경우 악의적인 사용자가 입력 값을 조작하여 악성 SQL 코드를 실행할 수 있다.

2. 입력 데이터의 이스케이프 부족 : 입력 값을 쿼리에 삽입하기 전에 이스케이프 처리를 하지 않는 경우 입력 값에 포함된 특수 문자가 SQL 구문으로 해석되어 예상치 못한 동적을 유발할 수 있다.

## SQL 인젝션 공격으로 인한 피해

1. 데이터 유출 : 데이터베이스로부터 민감한 정보를 추출할 수 있다.

2. 데이터 변조 : 공격자가 데이터베이스에 악성 코드를 삽입하여 데이터의 무단 수정이 가능해지며, 데이터 변조로 기업의 신뢰성 문제나 시스템 장애가 발생할 수 있다.

3. 시스템 접근 권한 상승 : 공격자가 인증된 사용자로 가장하여 시스템에 대한 권한을 취득할 수 있는데, 이는 데이터베이스 시스템 외에도 서버나 기타 시스템에 영향을 미칠 수 있다.

## 대응

1. 준비된 문(Prepared Statement) 사용 : 입력 값을 쿼리에 직접 삽입하지 않고 플레이스홀더를 사용하여 준비된 문을 사용한다. 이를 통해 입력 값의 이스케이스 처리와 쿼리의 구조와 값을 분리하여 인젝션 공격을 방지할 수 있다.

2. 입력 유효성 검사 : 입력 값에 대해 필요한 유효성 검사를 수행하여 허용되지 않은 값을 차단한다.

3. 입력 값의 이스케이프 처리 : 입력 값을 데이터베이스 쿼리에 삽입하기 전에 이스케이프 처리를 수행하여 특수 문자를 제대로 처리하도록 한다.

4. 접근 권한 제한 : 데이터베이스 사용자에게 최소한의 권한만 부여하여 인젝션 공격의 영향을 최소화 한다.

